import{E as ve,G as je,r as _,H as L,u as t,I as H,j as me,J as Ae,p as Be,K as Le,v as pe,a as Q,i as ge,o as M,f as B,h as U,c as oe,w as G,L as X,l as j,M as V,A as K,N as J,T as se,y as F,k as he,z as ye,F as Pe,B as Re,s as We,m as He,O as Ve,P as ze}from"./entry.31dcf398.js";import{f as Fe,b as be,i as De,u as Ue,E as ie,c as Ge,e as Ke,_ as Ie,g as Xe,w as Je,a as Ye}from"./base.3bde811b.js";var qe=typeof global=="object"&&global&&global.Object===Object&&global;const Qe=qe;var Ze=typeof self=="object"&&self&&self.Object===Object&&self,xe=Qe||Ze||Function("return this")();const Ce=xe;var et=Ce.Symbol;const Y=et;var Te=Object.prototype,tt=Te.hasOwnProperty,nt=Te.toString,z=Y?Y.toStringTag:void 0;function rt(e){var o=tt.call(e,z),r=e[z];try{e[z]=void 0;var n=!0}catch{}var p=nt.call(e);return n&&(o?e[z]=r:delete e[z]),p}var at=Object.prototype,ot=at.toString;function st(e){return ot.call(e)}var it="[object Null]",lt="[object Undefined]",le=Y?Y.toStringTag:void 0;function ut(e){return e==null?e===void 0?lt:it:le&&le in Object(e)?rt(e):st(e)}function ct(e){return e!=null&&typeof e=="object"}var ft="[object Symbol]";function dt(e){return typeof e=="symbol"||ct(e)&&ut(e)==ft}var vt=/\s/;function mt(e){for(var o=e.length;o--&&vt.test(e.charAt(o)););return o}var pt=/^\s+/;function gt(e){return e&&e.slice(0,mt(e)+1).replace(pt,"")}function q(e){var o=typeof e;return e!=null&&(o=="object"||o=="function")}var ue=0/0,ht=/^[-+]0x[0-9a-f]+$/i,yt=/^0b[01]+$/i,bt=/^0o[0-7]+$/i,It=parseInt;function ce(e){if(typeof e=="number")return e;if(dt(e))return ue;if(q(e)){var o=typeof e.valueOf=="function"?e.valueOf():e;e=q(o)?o+"":o}if(typeof e!="string")return e===0?e:+e;e=gt(e);var r=yt.test(e);return r||bt.test(e)?It(e.slice(2),r?2:8):ht.test(e)?ue:+e}var Ct=function(){return Ce.Date.now()};const ee=Ct;var Tt="Expected a function",St=Math.max,Et=Math.min;function kt(e,o,r){var n,p,c,a,f,g,h=0,k=!1,T=!1,y=!0;if(typeof e!="function")throw new TypeError(Tt);o=ce(o)||0,q(r)&&(k=!!r.leading,T="maxWait"in r,c=T?St(ce(r.maxWait)||0,o):c,y="trailing"in r?!!r.trailing:y);function S(s){var b=n,m=p;return n=p=void 0,h=s,a=e.apply(m,b),a}function O(s){return h=s,f=setTimeout(w,o),k?S(s):a}function N(s){var b=s-g,m=s-h,d=o-b;return T?Et(d,c-m):d}function E(s){var b=s-g,m=s-h;return g===void 0||b>=o||b<0||T&&m>=c}function w(){var s=ee();if(E(s))return A(s);f=setTimeout(w,N(s))}function A(s){return f=void 0,y&&n?S(s):(n=p=void 0,a)}function i(){f!==void 0&&clearTimeout(f),h=0,n=g=p=f=void 0}function v(){return f===void 0?a:A(ee())}function l(){var s=ee(),b=E(s);if(n=arguments,p=this,g=s,b){if(f===void 0)return O(g);if(T)return clearTimeout(f),f=setTimeout(w,o),S(g)}return f===void 0&&(f=setTimeout(w,o)),a}return l.cancel=i,l.flush=v,l}var wt="Expected a function";function fe(e,o,r){var n=!0,p=!0;if(typeof e!="function")throw new TypeError(wt);return q(r)&&(n="leading"in r?!!r.leading:n,p="trailing"in r?!!r.trailing:p),kt(e,o,{leading:n,maxWait:o,trailing:p})}const Se=Symbol("carouselContextKey"),Nt=(e,o,r)=>Fe(e.subTree).filter(c=>{var a;return je(c)&&((a=c.type)==null?void 0:a.name)===o&&!!c.component}).map(c=>c.component.uid).map(c=>r[c]).filter(c=>!!c),Ot=(e,o)=>{const r={},n=ve([]);return{children:n,addChild:a=>{r[a.uid]=a,n.value=Nt(e,o,r)},removeChild:a=>{delete r[a],n.value=n.value.filter(f=>f.uid!==a)}}},_t=be({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},indicator:{type:Boolean,default:!0},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0}}),$t={change:(e,o)=>[e,o].every(De)},de=300,Mt=(e,o,r)=>{const{children:n,addChild:p,removeChild:c}=Ot(pe(),"ElCarouselItem"),a=_(-1),f=_(null),g=_(!1),h=_(),k=L(()=>e.arrow!=="never"&&!t(S)),T=L(()=>n.value.some(u=>u.props.label.toString().length>0)),y=L(()=>e.type==="card"),S=L(()=>e.direction==="vertical"),O=fe(u=>{i(u)},de,{trailing:!0}),N=fe(u=>{P(u)},de);function E(){f.value&&(clearInterval(f.value),f.value=null)}function w(){e.interval<=0||!e.autoplay||f.value||(f.value=setInterval(()=>A(),e.interval))}const A=()=>{a.value<n.value.length-1?a.value=a.value+1:e.loop&&(a.value=0)};function i(u){if(Le(u)){const R=n.value.filter(D=>D.props.name===u);R.length>0&&(u=n.value.indexOf(R[0]))}if(u=Number(u),Number.isNaN(u)||u!==Math.floor(u))return;const C=n.value.length,$=a.value;u<0?a.value=e.loop?C-1:0:u>=C?a.value=e.loop?0:C-1:a.value=u,$===a.value&&v($),te()}function v(u){n.value.forEach((C,$)=>{C.translateItem($,a.value,u)})}function l(u,C){var $,R,D,ne;const W=t(n),re=W.length;if(re===0||!u.states.inStage)return!1;const we=C+1,Ne=C-1,ae=re-1,Oe=W[ae].states.active,_e=W[0].states.active,$e=(R=($=W[we])==null?void 0:$.states)==null?void 0:R.active,Me=(ne=(D=W[Ne])==null?void 0:D.states)==null?void 0:ne.active;return C===ae&&_e||$e?"left":C===0&&Oe||Me?"right":!1}function s(){g.value=!0,e.pauseOnHover&&E()}function b(){g.value=!1,w()}function m(u){t(S)||n.value.forEach((C,$)=>{u===l(C,$)&&(C.states.hover=!0)})}function d(){t(S)||n.value.forEach(u=>{u.states.hover=!1})}function I(u){a.value=u}function P(u){e.trigger==="hover"&&u!==a.value&&(a.value=u)}function Z(){i(a.value-1)}function ke(){i(a.value+1)}function te(){E(),w()}H(()=>a.value,(u,C)=>{v(C),C>-1&&o("change",u,C)}),H(()=>e.autoplay,u=>{u?w():E()}),H(()=>e.loop,()=>{i(a.value)}),H(()=>e.interval,()=>{te()}),H(()=>n.value,()=>{n.value.length>0&&i(e.initialIndex)});const x=ve();return me(()=>{x.value=Ue(h.value,()=>{v()}),w()}),Ae(()=>{E(),h.value&&x.value&&x.value.stop()}),Be(Se,{root:h,isCardType:y,isVertical:S,items:n,loop:e.loop,addItem:p,removeItem:c,setActiveItem:i}),{root:h,activeIndex:a,arrowDisplay:k,hasLabel:T,hover:g,isCardType:y,items:n,handleButtonEnter:m,handleButtonLeave:d,handleIndicatorClick:I,handleMouseEnter:s,handleMouseLeave:b,setActiveItem:i,prev:Z,next:ke,throttledArrowClick:O,throttledIndicatorHover:N}},jt=["onMouseenter","onClick"],At={key:0},Bt="ElCarousel",Lt=Q({name:Bt}),Pt=Q({...Lt,props:_t,emits:$t,setup(e,{expose:o,emit:r}){const n=e,{root:p,activeIndex:c,arrowDisplay:a,hasLabel:f,hover:g,isCardType:h,items:k,handleButtonEnter:T,handleButtonLeave:y,handleIndicatorClick:S,handleMouseEnter:O,handleMouseLeave:N,setActiveItem:E,prev:w,next:A,throttledArrowClick:i,throttledIndicatorHover:v}=Mt(n,r),l=ge("carousel"),s=L(()=>{const m=[l.b(),l.m(n.direction)];return t(h)&&m.push(l.m("card")),m}),b=L(()=>{const m=[l.e("indicators"),l.em("indicators",n.direction)];return t(f)&&m.push(l.em("indicators","labels")),(n.indicatorPosition==="outside"||t(h))&&m.push(l.em("indicators","outside")),m});return o({setActiveItem:E,prev:w,next:A}),(m,d)=>(M(),B("div",{ref_key:"root",ref:p,class:j(t(s)),onMouseenter:d[6]||(d[6]=V((...I)=>t(O)&&t(O)(...I),["stop"])),onMouseleave:d[7]||(d[7]=V((...I)=>t(N)&&t(N)(...I),["stop"]))},[U("div",{class:j(t(l).e("container")),style:ye({height:m.height})},[t(a)?(M(),oe(se,{key:0,name:"carousel-arrow-left",persisted:""},{default:G(()=>[X(U("button",{type:"button",class:j([t(l).e("arrow"),t(l).em("arrow","left")]),onMouseenter:d[0]||(d[0]=I=>t(T)("left")),onMouseleave:d[1]||(d[1]=(...I)=>t(y)&&t(y)(...I)),onClick:d[2]||(d[2]=V(I=>t(i)(t(c)-1),["stop"]))},[K(t(ie),null,{default:G(()=>[K(t(Ge))]),_:1})],34),[[J,(m.arrow==="always"||t(g))&&(n.loop||t(c)>0)]])]),_:1})):F("v-if",!0),t(a)?(M(),oe(se,{key:1,name:"carousel-arrow-right",persisted:""},{default:G(()=>[X(U("button",{type:"button",class:j([t(l).e("arrow"),t(l).em("arrow","right")]),onMouseenter:d[3]||(d[3]=I=>t(T)("right")),onMouseleave:d[4]||(d[4]=(...I)=>t(y)&&t(y)(...I)),onClick:d[5]||(d[5]=V(I=>t(i)(t(c)+1),["stop"]))},[K(t(ie),null,{default:G(()=>[K(t(Ke))]),_:1})],34),[[J,(m.arrow==="always"||t(g))&&(n.loop||t(c)<t(k).length-1)]])]),_:1})):F("v-if",!0),he(m.$slots,"default")],6),m.indicatorPosition!=="none"?(M(),B("ul",{key:0,class:j(t(b))},[(M(!0),B(Pe,null,Re(t(k),(I,P)=>(M(),B("li",{key:P,class:j([t(l).e("indicator"),t(l).em("indicator",m.direction),t(l).is("active",P===t(c))]),onMouseenter:Z=>t(v)(P),onClick:V(Z=>t(S)(P),["stop"])},[U("button",{class:j(t(l).e("button"))},[t(f)?(M(),B("span",At,We(I.props.label),1)):F("v-if",!0)],2)],42,jt))),128))],2)):F("v-if",!0)],34))}});var Rt=Ie(Pt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel.vue"]]);const Wt=be({name:{type:String,default:""},label:{type:[String,Number],default:""}}),Ht=(e,o)=>{const r=He(Se),n=pe(),p=.83,c=_(!1),a=_(0),f=_(1),g=_(!1),h=_(!1),k=_(!1),T=_(!1),{isCardType:y,isVertical:S}=r;function O(i,v,l){const s=l-1,b=v-1,m=v+1,d=l/2;return v===0&&i===s?-1:v===s&&i===0?l:i<b&&v-i>=d?l+1:i>m&&i-v>=d?-2:i}function N(i,v){var l;const s=((l=r.root.value)==null?void 0:l.offsetWidth)||0;return k.value?s*((2-p)*(i-v)+1)/4:i<v?-(1+p)*s/4:(3+p)*s/4}function E(i,v,l){const s=r.root.value;return s?((l?s.offsetHeight:s.offsetWidth)||0)*(i-v):0}const w=(i,v,l)=>{var s;const b=t(y),m=(s=r.items.value.length)!=null?s:Number.NaN,d=i===v;!b&&!Xe(l)&&(T.value=d||i===l),!d&&m>2&&r.loop&&(i=O(i,v,m));const I=t(S);g.value=d,b?(k.value=Math.round(Math.abs(i-v))<=1,a.value=N(i,v),f.value=t(g)?1:p):a.value=E(i,v,I),h.value=!0};function A(){if(r&&t(y)){const i=r.items.value.findIndex(({uid:v})=>v===n.uid);r.setActiveItem(i)}}return me(()=>{r.addItem({props:e,states:Ve({hover:c,translate:a,scale:f,active:g,ready:h,inStage:k,animating:T}),uid:n.uid,translateItem:w})}),ze(()=>{r.removeItem(n.uid)}),{active:g,animating:T,hover:c,inStage:k,isVertical:S,translate:a,isCardType:y,scale:f,ready:h,handleItemClick:A}},Vt=Q({name:"ElCarouselItem"}),zt=Q({...Vt,props:Wt,setup(e){const o=e,r=ge("carousel"),{active:n,animating:p,hover:c,inStage:a,isVertical:f,translate:g,isCardType:h,scale:k,ready:T,handleItemClick:y}=Ht(o),S=L(()=>{const N=`${`translate${t(f)?"Y":"X"}`}(${t(g)}px)`,E=`scale(${t(k)})`;return{transform:[N,E].join(" ")}});return(O,N)=>X((M(),B("div",{class:j([t(r).e("item"),t(r).is("active",t(n)),t(r).is("in-stage",t(a)),t(r).is("hover",t(c)),t(r).is("animating",t(p)),{[t(r).em("item","card")]:t(h)}]),style:ye(t(S)),onClick:N[0]||(N[0]=(...E)=>t(y)&&t(y)(...E))},[t(h)?X((M(),B("div",{key:0,class:j(t(r).e("mask"))},null,2)),[[J,!t(n)]]):F("v-if",!0),he(O.$slots,"default")],6)),[[J,t(T)]])}});var Ee=Ie(zt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/carousel/src/carousel-item.vue"]]);const Ut=Je(Rt,{CarouselItem:Ee}),Gt=Ye(Ee);export{Gt as E,Y as S,Ut as a,q as b,ut as c,dt as i,Ce as r,fe as t};
